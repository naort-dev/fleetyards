= form_for [:admin, station], html: { multipart: true } do |form|
  .row
    .col-xs-12.col-md-6.form-group{class: form_error?(station, :name)}
      = form.label :name
      = form.text_field :name, class: 'form-control'
      %small
        = form_errors station, :name
    .col-xs-12.col-md-6.form-group{class: form_error?(station, :station_type)}
      = form.label :station_type
      = form.select :station_type, Station.station_types.keys.map { |w| [Station.human_enum_name(:station_type, w), w] }, { include_blank: I18n.t(:"helpers.prompt.stations.station_type") }, { class: 'form-control' }
      %small
        = form_errors station, :station_type

  .row
    .col-xs-12.col-md-6.form-group{class: form_error?(station, :planet_id)}
      = form.label :planet_id
      = form.select :planet_id, Planet.all.order(name: :asc).map { |c| [c.name, c.id] }, { include_blank: I18n.t(:"helpers.prompt.stations.planet") }, { class: 'form-control' }
      %small
        = form_errors station, :planet_id
    .col-xs-12.col-md-6.form-group{class: form_error?(station, :store_image)}
      = form.label :store_image
      = form.file_field :store_image, class: 'form-control'
      = form.hidden_field :store_image_cache
      %br
      - if station.store_image?
        = image_tag(station.store_image.url)
        = form.check_box :remove_store_image
        Remove Image
      %small
        = form_errors station, :store_image

  .row
    .col-xs-12.col-sm-6.col-md-4.form-group
      .checkbox
        = form.check_box :hidden, placeholder: I18n.t(:"helpers.placeholder.station.hidden")
        = form.label :hidden do
          = I18n.t(:"activerecord.attributes.station.hidden")

  %fieldset
    %legend
      Docks:
    #docks
      - if station.docks.present?
        = form.fields_for :docks, station.docks do |builder|
          = render 'stations/dock_fields', fields: builder

    .btn-group-responsive.pull-right
      = link_to_add_fields form, :docks, name: I18n.t(:"actions.add"), class: "btn btn-default", target: "#docks" do
        %i.fa.fa-plus
        = I18n.t(:"actions.add_dock")

  %fieldset
    %legend
      Shops:
    #station_shops
      - if station.station_shops.present?
        = form.fields_for :station_shops, station.station_shops do |builder|
          = render 'stations/station_shop_fields', fields: builder

    .btn-group-responsive.pull-right
      = link_to_add_fields form, :station_shops, name: I18n.t(:"actions.add"), class: "btn btn-default", target: "#station_shops" do
        %i.fa.fa-plus
        = I18n.t(:"actions.add_shop")

  = render "shared/submit", path: admin_stations_path
